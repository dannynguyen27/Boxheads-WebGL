<!-- UCLA's Graphics Example Code (Javascript and C++ translations available), by Garett Ridge for CS174a.
index.html - The web page document containing the canvas (drawing surface), that launches your javascript files, and hides the vertex and fragment shader programs in some strings. //-->
<!DOCTYPE html>
<html>
<head>  <meta charset="UTF-8"/>
<script type="text/javascript" src="MV.js"                    ></script>  <!--  Javascript "include" files.  Any code in them gets executed as part of the page loading.  //-->
<script type="text/javascript" src="tinywebgl-ucla.js"        ></script>
<script type="text/javascript" src="displayables.js"  ></script>
<script type="text/javascript" src="enemies.js"  ></script>
<script type="text/javascript" src="projectiles.js"  ></script>
<script type="text/javascript" src="ammocrates.js"  ></script>
<script type="text/javascript" src="shapes.js"        ></script>
<script type="text/javascript" src="subdivisionsphere.js"></script>
<script type="text/javascript" src="shaders.js"       ></script>
<audio src="Audio/gunshot.mp3"></audio>
<audio src="Audio/reload.mp3"></audio>
<audio src="Audio/thunder.mp3"></audio>
<audio src="Audio/dog_hurt.mp3"></audio>
<audio src="Audio/init_dog.mp3"></audio>
<audio src="Audio/health.mp3"></audio>

<script type="text/javascript"> "use strict"  
  window.onload = function init()           // ********************* OUR WHOLE PROGRAM'S ENTRY POINT ********************* 
    {	
      var main_canvas = new Canvas_Manager( "gl-canvas", Color( 0.529, 0.808, 0.980, 1 ) ),    // Make the master canvas manager.  Set your background color here too.
          g_state = main_canvas.shared_scratchpad.graphics_state;
          
      shaders_in_use[ "Default"     ] = new Phong_or_Gouraud_Shader( g_state );    // Put all our shader programs in the GPU.

                                                                                // IMPORTANT: -- You have to include all your new images in here:
      texture_filenames_to_load.push( "text.png" );                             // Put all our texture images in the GPU.
      texture_filenames_to_load.push( "Visuals/ground_texture.jpg" );
      texture_filenames_to_load.push( "Visuals/player_head.jpg");
      texture_filenames_to_load.push( "Visuals/player_body.jpg");
      texture_filenames_to_load.push( "Visuals/enemy_head.jpg");
      texture_filenames_to_load.push( "Visuals/enemy_body.jpg");
      texture_filenames_to_load.push( "Visuals/demon_head2.jpg");
      
      texture_filenames_to_load.push( "Visuals/simple_outline.jpg");
      texture_filenames_to_load.push( "Visuals/portal.jpg");

      texture_filenames_to_load.push( "Memes/Troll_Lose_Ammo.jpg" );
      texture_filenames_to_load.push( "Visuals/Crates/speed.jpg");
      texture_filenames_to_load.push( "Visuals/Crates/ammo.jpg");
      texture_filenames_to_load.push( "Visuals/Crates/health.jpg");

      texture_filenames_to_load.push( "screens/title.jpg");
      texture_filenames_to_load.push( "screens/end.jpg");

      console.log(texture_filenames_to_load[13]);

      for( var i = 0; i < texture_filenames_to_load.length-2; i++ ) textures_in_use[ texture_filenames_to_load[i] ] = ( new Texture( texture_filenames_to_load[i], true ) );

      textures_in_use[ texture_filenames_to_load[13] ] = ( new Texture( texture_filenames_to_load[13], false ) );
      textures_in_use[ texture_filenames_to_load[14] ] = ( new Texture( texture_filenames_to_load[14], false ) );
      
      main_canvas.register_display_object( new Debug_Screen     ( main_canvas ) );  // We instantiate some of our custom "Animation" subclasses and register these displayable
      main_canvas.register_display_object( new World( main_canvas ) );  // objects to their master "Canvas_Manager" object -- which OpenGL calls upon every time a
      main_canvas.register_display_object( new Camera   ( main_canvas ) );  // draw / keyboard / mouse event happens.
      main_canvas.render();
    }

  window.requestAnimFrame = ( function()						// Use the correct browser's version of requestAnimationFrame() when queue-ing up re-display events. 
    { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
      function( callback, element) { window.setTimeout(callback, 1000/60);  };
    })();
</script>
</head><body>
<canvas id="gl-canvas" width="1920" height="1080"></canvas><p>
<a href="#" onclick='document.getElementById( "instructions" ).style = "display:block"; this.style = "display:none";'> Click for instructions </a><div id="instructions" style = "display:none">
Controlling this Graphics Object: 
<ul><li>Animation is paused when this program starts, so first you should press ALT+a to play or pause animation. <li>
    Press t to un-hide the heads-up-display text.  **If this doesn't do anything** then you are running your files without correctly hosting them.  You need to 
    run cd path/to/these/files, then python -m http.server, then visit the URL localhost:8000. <li>
    Clicking and dragging spins the scene around while the camera stays still.  If you'd like to spin around some other focal point, 
    you can set one by flying the camera right up to a desired point and then pressing o.<li>
		Fly the camera around the scene to adjust your vantage point using the keys w a s d to move in the plane that's along the ground, 
		and the keys space and z to float up and down.  At any time press r to reset the camera and vantage point back to the origin. <li>
		The f key unfreezes the camera's rotation setting so you can aim it around while flying or sitting still.  Move the mouse around away from the 
		center of the window to steer, and press f again to stop this and to freeze the steering again.  Any roll rotation is controlled separately with the comma and period keys. <li> 
    The keys ALT+n and ALT+g switch shading behaviors.  ALT+n directly shows you normal vectors on shapes by interpreting X,Y,Z vectors
    as R,G,B colors.  ALT+g toggles Gouraud shading vs Smooth Phong shading with textures.<li>
		Press up and down to cycle through a live feed of important strings and values of the program -- the code for each Displayable object includes a function where it can provide these. <li>
		Have fun.
</div></p></body>
</html>
